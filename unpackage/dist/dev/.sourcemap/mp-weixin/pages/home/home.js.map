{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../hbuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"p-3\">\r\n    <view class=\"card\">\r\n      <text>欢迎来到健康监控</text>\r\n      <view class=\"mt-2 text-muted\">今日概览</view>\r\n      <view class=\"mt-2\">摄入热量：{{ summary.diet }} kcal</view>\r\n      <view>消耗热量：{{ summary.sport }} kcal</view>\r\n  <view class=\"mt-2\">小组：{{ groupId || '未加入' }}</view>\r\n    </view>\r\n    <button class=\"mt-2\" @click=\"toDiet\">饮食记录</button>\r\n    <button class=\"mt-2\" @click=\"toSport\">运动记录</button>\r\n    <button class=\"mt-2\" @click=\"toCommunity\">社区</button>\r\n    <button class=\"mt-2\" @click=\"toGroup\">小组</button>\r\n    <button class=\"mt-2\" @click=\"toReport\">报告总结</button>\r\n  </view>\r\n</template>\r\n<script setup>\r\nimport { reactive, ref } from 'vue'\r\nimport { onShow } from '@dcloudio/uni-app'\r\nimport { groupService, dietService, sportService } from '../../services/api.js'\r\n\r\nconst summary = reactive({ diet: 0, sport: 0 })\r\nconst groupId = ref('')\r\n\r\nconst loadData = async () => {\r\n  const today = new Date().toISOString().slice(0, 10)\r\n  try {\r\n    const [diet, sport, g] = await Promise.all([\r\n      dietService.dailyDiet(today),\r\n      sportService.dailySport(today),\r\n      groupService.getMyGroup()\r\n    ])\r\n    summary.diet = (diet.records || []).reduce((s, i) => s + i.calories, 0)\r\n    summary.sport = (sport.records || []).reduce((s, i) => s + i.calories, 0)\r\n    groupId.value = g.groupId || ''\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nonShow(loadData)\r\n\r\nconst toDiet = () => uni.navigateTo({ url: '/pages/diet/diet' })\r\nconst toSport = () => uni.navigateTo({ url: '/pages/sport/sport' })\r\nconst toCommunity = () => uni.navigateTo({ url: '/pages/community/community' })\r\nconst toGroup = () => uni.navigateTo({ url: '/pages/group/group' })\r\nconst toReport = () => uni.navigateTo({ url: '/pages/report/report' })\r\n</script>\r\n<style scoped>\r\nbutton{background:#1afa29;color:#fff;padding:16rpx;border-radius:8rpx;}\r\n</style>\r\n","import MiniProgramPage from 'D:/Work/unicode/health_app/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","dietService","sportService","groupService","uni","onShow"],"mappings":";;;;;;AAqBA,UAAM,UAAUA,cAAQ,SAAC,EAAE,MAAM,GAAG,OAAO,GAAG;AAC9C,UAAM,UAAUC,cAAG,IAAC,EAAE;AAEtB,UAAM,WAAW,YAAY;AAC3B,YAAM,SAAQ,oBAAI,KAAM,GAAC,YAAW,EAAG,MAAM,GAAG,EAAE;AAClD,UAAI;AACF,cAAM,CAAC,MAAM,OAAO,CAAC,IAAI,MAAM,QAAQ,IAAI;AAAA,UACzCC,aAAW,YAAC,UAAU,KAAK;AAAA,UAC3BC,aAAY,aAAC,WAAW,KAAK;AAAA,UAC7BC,aAAAA,aAAa,WAAY;AAAA,QAC/B,CAAK;AACD,gBAAQ,QAAQ,KAAK,WAAW,CAAA,GAAI,OAAO,CAAC,GAAG,MAAM,IAAI,EAAE,UAAU,CAAC;AACtE,gBAAQ,SAAS,MAAM,WAAW,CAAA,GAAI,OAAO,CAAC,GAAG,MAAM,IAAI,EAAE,UAAU,CAAC;AACxE,gBAAQ,QAAQ,EAAE,WAAW;AAAA,MAC9B,SAAQ,GAAG;AACVC,sBAAAA,MAAc,MAAA,SAAA,6BAAA,CAAC;AAAA,MAChB;AAAA,IACH;AAEAC,kBAAM,OAAC,QAAQ;AAEf,UAAM,SAAS,MAAMD,cAAAA,MAAI,WAAW,EAAE,KAAK,mBAAkB,CAAE;AAC/D,UAAM,UAAU,MAAMA,cAAAA,MAAI,WAAW,EAAE,KAAK,qBAAoB,CAAE;AAClE,UAAM,cAAc,MAAMA,cAAAA,MAAI,WAAW,EAAE,KAAK,6BAA4B,CAAE;AAC9E,UAAM,UAAU,MAAMA,cAAAA,MAAI,WAAW,EAAE,KAAK,qBAAoB,CAAE;AAClE,UAAM,WAAW,MAAMA,cAAAA,MAAI,WAAW,EAAE,KAAK,uBAAsB,CAAE;;;;;;;;;;;;;;;;AC7CrE,GAAG,WAAW,eAAe;"}